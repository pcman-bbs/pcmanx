2005-07-08  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/listbox.cpp (CListBox::GetCurSel):
	Minor bug fix.

2005-07-08  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp	(CTermView::PasteFromClipboard):
	Some cleanup.

2005-07-07  Kanru Chen  <koster@debian.org.tw>

	* src/termview.cpp
	(CTermView::PasteFromClipboard) (CTermView::CopyToClipboard):
	Use user's encoding setting to convert clipboard strings.

2005-07-07  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp (CTermView::OnMouseMove):
	Display hand cursor when hyperlinks are hovered.

	* src/mainframe.cpp (CMainFrame::set_tray_icon):
	Fix abnormal size of tray icon.

	* src/appconfig.cpp:
	AppConfig.WebBrowser can be stored now.

	* src/telnetview.cpp:
	Add <ctype.h> include to avoid potential compilation errors.
	Reported by Anton  <anton.tw@gmail.com>.

2005-07-07  Jim Huang  <jserv@kaffe.org>

	* src/pcmanx_pure_gtk2.cpp:
	Add missing libintl / locale includes.

	* src/stringutil.cpp:
	Add <ctype.h> include to avoid potential compilation errors.
	Reported by Anton  <anton.tw@gmail.com>.

	* src/site.h: Performan some cleanup for naming.

	* autogen.sh:
	Quick fix against the strange intltool behavior.

	* TODO:
	For developers, please file your todo list here.

2005-07-07  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/pcmanx_pure_gtk2.cpp:
	Add "bindtextdomain" to correctly locate message catalog file.

2005-07-07  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/telnetcon.cpp (CTelnetCon::SendString):
	Replace all "\n" in string with correct CRLF before sent.
	
	* src/telnetview.cpp (CTelnetView::DoPasteFromClipboard):
	Bug fix.

2005-07-07  Jim Huang  <jserv@kaffe.org>

	* pcmanx.desktop.in:
	New file. Rename from pcmanx.desktop.

	* Makefile.am,
	configure.ac:
	Add entries for pcmanx.desktop generation.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* data/Makefile.am:
	Add install-hook.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/Makefile.am:
	Add all necessary headers to Makefile.am.

2005-07-06  Jim Huang  <jserv@kaffe.org>

	* src/Makefile.am:
	Fixlet to previous changes.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termdata.cpp (CTermData::UpdateDisplay),
	src/termview.cpp,
	src/widget.h,
	src/telnetview.cpp (CTelnetView::~CTelnetView),
	src/telnetcon.cpp:
	Minor bug fix.
	Temporarily disable dalayed screen update to prevent some problems.
	
	* src/mainframe.cpp (CMainFrame::SetCurView):
	Include the name of current connection in window title.

2005-07-07  Jim Huang  <jserv@kaffe.org>

	* src/Makefile.am,
	Makefile.am:
	Fixlet to missing EXTRA_DIST.
	Reported by PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/telnetcon.cpp: Minor bug Fix.

	* src/sitelistdlg.cpp:
	(CSiteListDlg::OnSearch): Minor bug fix.

	* data/sitelist:
	Replace the site list with the latest one.

2005-07-06  Jim Huang  <jserv@kaffe.org>

	* src/configfile.cpp (CConfigFile::CConfigFile):
	Use DATADIR (%prefix%/share) as data dir instead of /etc.
	
	* src/Makefile.am: Likewise.

	* data/Makefile.am,
	Makefile.am,
	configure.ac:
	Add rules for site list file.

	* AUTHORS: Updated.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/telnetcon.cpp
	(CTelnetCon::OnClose): Add "auto reconnect" support.
	Fix lots of thread-related bugs.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/mainframe.cpp
	(CMainFrame::OnFont): Disable "style" in font selection dialog.

	* src/appconfig.cpp, src/pcmanx_pure_gtk2.cpp:
	Add "Show tray icon" preference.

	* src/generalprefpage.cpp:
	Add "Show tray icon" and "Web browser" preference.

	* src/Makefile.am:
	Add all-local to strip the compiled executable file.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp:
	Some bug fix.
	
	* src/caret.cpp:
	Some minor bug fix.
	
	* src/mainframe.cpp
	(CMainFrame::LoadStartupSites):
	Automatically connect to some sites on startup.
	
	* src/telnetcon.cpp:
	Fix some problems related to multi-threading.
	
	* src/sitepage.cpp:
	Add "Connect on startup" check box.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp
	(CTermView::OnDestroy): Removed.
	(CTermView::OnBeforeDestroy): Destroy XftDraw correctly.
	Destructor of CTermView can be called properly now.

	* src/mainframe.cpp (CMainFrame::CloseCon):
	Use wrapper function provided by CNotebook instead of raw gtk+ API.

2005-07-06  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termdata.cpp (CTermView::UpdateDisplay)
	src/termdata.h:
	Delay some sceen update when needed. Enhance drawing performance 
	and avoid some unnecessary flicker.

2005-07-03  Kanru Chen  <koster@debian.org.tw>

	* src/sitepage.cpp,
	src/sitepage.h,
	src/termview.cpp,
	src/site.cpp,
	src/mainframe.cpp,
	src/appconfig.cpp,
	src/termdata.h,
	src/site.h,
	src/telnetview.cpp:
	Add encoding preference.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp (CTermView::DrawChar):
	Enable drawing one double-byte character with two different colors.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp (CTermView::SetFontFamily):
	Recalculate font size when font family is changed.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/widget.cpp (CWidget::Refresh):
	Fix a typo.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/font.cpp (CFont::CreateXftFont):
	Fix some problems in font size calculation.

	* src/font.h (CFont::GetMaxWidth):
	Ensure that max width can be devided by 2.

2005-07-04  Shih-yuan Lee  <fourdollars@gmail.com>

	* src/widget.cpp
	(delete_CWidget): Check object existence before releasing.
	(CWidget::Refresh): Rename rect to t_Rect.
	(CWidget::CWidget): Use naming rules.

	* Doxygen.in:
	Add more information.

2005-07-04  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.cpp (CMainFrame::set_tray_icon):
	Create new pixbuf according to the allocated width of m_TrayIcon.
	NOTE: PCMan reported a strange behavior of tray icons padding
	under KDE 3.3 .

2005-07-04  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/pcmanx_pure_gtk2.cpp (main):
	Remove redundant CWidget::Init.

	* src/widget.h
	(CWidget::OnIdleCleanup) (CWidget::Init)
	(CWidget::m_WidgetsToBeDeleted): Removed.
	
	* src/widget.cpp
	(CWidget::OnDestroy) (CWidget::OnIdleCleanup): Implementation removed.
	(delete_CWidget): New helper function.
	(CWidget::OnIdleCleanup): Invoke delete_CWidget while idle via
	g_idle_add_full.
	Fix the most serious bug which cause extremely high system load.

2005-07-04  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.h:
	Rename m_Tray_icon to m_TrayIcon_Instance.
	(CMainFrame::set_tray_icon): New helper function splitted from
	constructor to handle tray icon routines.
	(CMainFrame::m_TrayButton) (CMainFrame::m_TrayIcon): New member
	data. Likewise.

	* src/pcmanx_pure_gtk2.cpp (main):
	Adjust m_Tray_icon naming change.

	* src/mainframe.cpp
	(CMainFrame::CMainFrame): Use new helper function, set_tray_icon,
	and make sure m_MainIcon is null at startup.
	(CMainFrame::OnTrayButton_Changed): Implemented via invoking 
	set_tray_icon.

2005-07-03  Kanru Chen  <koster@debian.org.tw>
	
	* src/mainframe.cpp
	(CMainFrame::CloseCon):
	Remove correct note page and move to next page.

	* src/termview.cpp
	(CTermView::OnDestroy) (CTermView::~CTermView):
	Move XftDrawDestroy(m_XftDraw) to destructor to avoid X error,
	however, actually this destructor never be called because strange
	CWidget behavior. Need to FIX. Warn: memory leak.

	* src/caret.cpp,
	src/termview.cpp,
	src/widget.cpp:
	Some debug message.

2005-07-03  Jim Huang  <jserv@kaffe.org>

	* sitelistdlg.cpp (CSiteListDlg::LoadSiteList):
	Workaround of new GTK_STOCK_DIRECTORY macro introduced in GTK+ 2.6 .
	Reported by Chung-Yen Chang  <candyz@cle.linux.org.tw>.
	NOTE: Still some incompatibility to be fixed later.
	
	* po/pcmanx.pot:
	New file. Missing translation template.

	* autogen.sh:
	Add workaround of some cases that mkinstalldirs was not correctly
	installed.

2005-07-03  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.cpp
	(CMainFrame::OnTrayButton_Toggled):
	Temporal workaround of G_GNUC_UNUSED attribute.
	Reported by Kanru Chen  <koster@debian.org.tw>.

2005-07-03  Jim Huang  <jserv@kaffe.org>

	* src/docklet/clipboard.c:
	New file. X clipboard hack to detect if daemon is running.

	* src/docklet/eggtrayicon.c,
	src/docklet/eggtrayicon.h:
	New files. Famous EggTrayIcon written by Anders Carlsson
	<andersca@gnu.org>.

	* configure.ac,
	src/Makefile.am:
	Add docklet / system tray support option. Default: enabled.

	* src/mainframe.h
	(CMainFrame::OnTrayButton_Toggled) (CMainFrame::OnTrayButton_Changed):
	New protected methods act as the callback functions for Tray button
	toggled and size-changed.
	(EggTrayIcon *m_Tray_icon):
	New public member data for holding tray icon.

	* src/mainframe.cpp
	(CMainFrame::OnTrayButton_Toggled) (CMainFrame::OnTrayButton_Changed):
	Likewise.
	(CMainFrame::CMainFrame):
	Add primitive tray icon and event handling for docklet / system tray.
	NOTE: we might need a customized tray icon due to size limitation.

	* src/pcmanx_pure_gtk2.cpp (main):
	Make sure that there is only single instance, and show docklet.
	NOTE: we might create higher level method for this task.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/pcmanx_pure_gtk2.cpp:
	Use GETTEXT_PACKAGE instead of hard-coded names.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/termview.cpp (CTermView::RedrawSel):
	Minor tweaking for MAX3 and MIN3 macro for better readability.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.cpp 
	(CMainFrame::CreateMenu): Remove puzzling comments which confuse
	intltool.
	(CMainFrame::OnAbout): Update homepage information.

	* src/pcmanx_pure_gtk2.cpp (main):
	Adjust the sequence of gtk_init and g_thread_init, and use fake
	argc/agrv to avoid redundant parsing.

	* po/zh_TW.po: Regenerated.

2005-07-02  Kanru Chen  <koster@debian.org.tw>
	
	* configure.ac:
	Change AC_DEFINE(VERSION,...) to AC_DEFINE_UNQUOTED ensure really
	defined this variable.
	
	* ABOUT-NLS:
	New file. need by automake-1.9.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/termview.cpp (CTermView::OnLButtonDown),
	src/configfile.cpp (CConfigFile::DoLoad) (CConfigFile::DoSave),
	src/appconfig.cpp (CAppConfig::LoadFavorites),
	src/sitelistdlg.cpp (CSiteListDlg::OnSearch):
	Remove misleading \!\! expression.

2005-07-02  Kanru Chen  <koster@debian.org.tw>

	* src/font.cpp 
	(CFont::CreateXftFont(string, int, int, bool)):
	Adjust font size policy to prevent infinite loop.

	* src/widget.cpp,
	src/telnetcon.cpp:
	Add usleep(100) between each idle call to prevent cpu load
	too high.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* po/POTFILES.in:
	New file. Put the source filenames to be translated here.

	* configure.ac:
	Enhance GNU Gettext support.

	* src/Makefile.am:
	Include *.xpm in EXTRA_DIST.

	* po/zh_TW.po:
	Updated according to new layout.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* autogen.sh,
	configure.ac,
	Doxygen.in,
	Makefile.am,
	src/Makefile.am:
	New files. Autotools support.

	* po/zh_TW.po:
	Adjust translated messages path.

2005-07-02  Kanru Chen  <koster@debian.org.tw>

	* src/Makefile-byhand:
	Cleanup pkgconfig rules.

2005-07-01  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* Initial import of pcmanx_pure_gtk2.
